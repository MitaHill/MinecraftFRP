# CLAUDE.md

此文档用于介绍Minecraft FRP项目的基本情况和未来改进方向。

## 基本情况
- 使用Python Qt5作为了图形框架。
- 截止于目前，采用的是单一文件方式，这是历史遗留问题，应该进行修改。
- 功能：Minecraft联机工具。在公共地址紧缺的地区，可非常方便的通过此工具，进行Minecraft联机。

## 希望的改进方向
- 使用模块化处理，并将职责单一化。
  - 使用`src`作为模块存放目录。
  - 细分每个模块的职责，让模块文件的数量变多，让模块文件内的代码量变少，
  - `main.py`仅作为程序主入口，各个功能都由`src`目录下的各个模块文件/模块目录实现。
  - 推荐创建模块子目录，例如`src/gui/`目录，可创建`window.py`、`style.py`等模块。
- 将配置文件存放在项目根目录下的`config`目录。
  -  配置文件、记忆数据统一采用`yaml`格式。
  -  程序初始化界面时首先检查配置文件、记忆数据是否存在，如果没有则重新创建一个默认值。
- 创建简单的Project.md文档

## 8月9日待办事项
项目目前很不错，但是`frps-server-list.json`现在是程序友好可读，但对人类不友好。因此请做出如下修改：
- 在`src/tools/edit-frp-server-list.py`新建，并作为一个模块被主入口调用。
  - 作用为：将`config/frp-server-list.json`中的内容，通过密钥进行解密，并将`json`格式的内容，编制为人类可读的表格在图形界面上。
  - 在联机工具的工具箱界面上显示按钮“编辑服务器列表”入口，点击按钮调用本模块。
  - 模块风格和联机工具的主界面保持一直，根据主界面的昼夜界面变化而随应变化。
  - 点击按钮后，显示一个输入框提示在此处输入密钥，输入正确密钥进行下一步，输入错误密钥在底部弹出小型气泡提示输入错误，请重新输入。密钥是否正确根据`config/app_config.yaml`中的`decrypt_key`项决定。
  - 输入正确密钥后，从`config/frp-server-list.json`中读取数据，并根据给出的密钥进行解码。
  - 解码成功后，将文件中的内容提取出来，左面一个列表，显示从文件中提取的数据，转换为列表的样子，右面显示原始的解码`json`数据。
因此，第一步请确认`config/frp-server-list.json`是什么编码方式，然后开始吧。
